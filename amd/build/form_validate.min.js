define(["jquery","theme_bootstrapbase/bootstrap","block_homework/zebra_tooltips"],function(a,b,c){"use strict";var d=function(){};return d.prototype.validateInputs=function(b,c){a(".ond_validation_error").parents(".Zebra_Tooltip").remove();var d=0,e=M.str.block_homework;a("input,textarea").filter(".ond_required, .ond_validate").each(function(c){var f="",g=!0,h=!0,i=a(this).parent().parent(),j=i.hasClass("ond_controlsubgroup");if(j&&(h="block"==i.css("display")),h){var k=a(this).prop("type"),l=a(this).val();if("undefined"!=typeof b&&(f=b(a(this)),""!==f&&(g=!1)),"number"==k){var m=parseFloat(a(this).prop("min")),n=parseFloat(a(this).prop("max"));(parseFloat(l)<m||l>n)&&(f=e.valuerange+" "+m.toString()+" - "+n.toString(),g=!1)}""===l&&a(this).hasClass("ond_required")&&(f=e.requiredfield,g=!1)}if(g)a(this).attr("placeholder",""),a(this).removeClass("ond_required_invalid");else{if(a(this).addClass("ond_required_invalid"),0===d){var o=a(".tab-pane.active").prop("id"),p=a(this).parents(".tab-pane").prop("id");o!=p&&(a("#"+o).removeClass("active"),a("#"+o+"-tab").parent().removeClass("active"),a("#"+p).addClass("active").removeClass("fade").parent().addClass("active"),a("#"+p+"-tab").parent().addClass("active"),a(this).focus())}if(a(this).is(":visible")){f='<p class="ond_validation_error">'+f+"</p>";var q=new a.Zebra_Tooltips(a(this),{background_color:"#faa",color:"black",opacity:1,content:f});q.show(a(this),!0)}d++}}),0===d?"undefined"==typeof c?a("#ond_form").submit():c():(a("#ond_validationfailed").fadeIn(1e3).delay(5e3).fadeOut(1e3,function(){a(".ond_validation_error").parents(".Zebra_Tooltip").remove()}),this.showDialog(e.oops,a("#ond_validationfailed").text(),e.okbutton))},d.prototype.showDialog=function(b,c,d){var e='<div id="dynamicmodal" class="modal fade" tabindex="-1" role="dialog" arial-labelledby="confirm-modal" aria-hidden="true">';e+='<div class="modal-dialog">',e+='<div class="modal-content">',e+='<div class="modal-header"><a class="close" data-dismiss="modal">Ã—</a><h4>'+b+"</h4></div>",e+='<div class="modal-body">'+c+"</div>",e+='<div class="modal-footer"><span class="ond_material_button_raised" data-dismiss="modal">'+d+"</span></div>",e+="</div></div></div>",a("body").append(e),a("#dynamicmodal").modal("show"),a("#dynamicmodal").on("hidden.bs.modal",function(b){a(this).remove()})},new d});